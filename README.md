# 商品库存管理系统

C++实现的商品库存管理系统，支持多品牌管理、模糊查询、LRU缓存、事务日志持久化等功能

## 📦 功能特性

- **核心机制**
  LRU缓存策略 | 事务日志重放 | 编辑距离模糊查询 | CSV数据持久化

- **业务功能**
  商品进销存管理 | 多品牌关联 | 实时库存统计 | 交互式报表生成

- **高级特性**
  链式查询构建器 | 内存索引加速 | 操作日志追踪 | 跨平台文件存储

## 🛠️ 技术栈

- **语言标准**: C++11
- **核心库**: STL容器/算法
- **存储格式**: CSV序列化
- **测试框架**: Google Test
- **构建工具**: CMake

## 🧩 模块说明

### 核心组件
| 模块 | 功能描述 |
|--------------------|--------------------------------------|
| `datatype.h/cpp` | 商品/品牌数据结构定义，CSV解析与生成 |
| `engine.h/cpp` | 查询引擎实现，支持链式条件过滤 |
| `index.h/cpp` | 基于编辑距离的模糊查询索引 |
| `cache.h/cpp` | LRU缓存策略实现（O(1)时间复杂度） |

### 持久化层
| 模块 | 功能描述 |
|--------------------|--------------------------------------|
| `persister.h/cpp` | 事务日志记录与数据恢复 |
| `storage.h/cpp` | 文件存储管理（数据文件+操作日志） |

### 交互层
| 模块 | 功能描述 |
|--------------------|--------------------------------------|
| `logic.h/cpp` | 多级菜单系统与业务流程控制 |
| `ui.h/cpp` | 输入验证/数据显示/交互组件 |

## 📥 安装与编译

### 环境要求
- CMake 3.28+
- GTest 1.14+
- C++11兼容编译器

### 构建指令
```bash
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
make

# 运行单元测试
./my_test
```

## 📄 数据持久化

- **双机制存储**
  `data.csv` 存储完整数据集
  `operation.log` 记录操作流水

- **崩溃恢复**
  启动时自动重放未提交的操作日志

## 📜 许可证

[MIT License](LICENSE) © 2025 Sun